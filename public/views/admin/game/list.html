<div class="row">
	<div class="col-sm-12">
		<div class="tight">
			<h5 class="text-muted">
				<a href="/manage/">Eventvods</a>
				<i class="fa fa-fw fa-fix fa-level-down"></i>
			</h5>
			<h2>Games</h2>
		</div>
	</div>
	<!--<div class="col-sm-2">
        <button class="btn btn-success pull-right" ng-click="Featured.save()">Save</button>
    </div>-->
</div>
<br />
<div class="row">
	<div class="col-xs-12 col-sm-12 col-md-6">
		<div class="panel panel-default">
			<div class="panel-heading">
				<h2 class="panel-title"><i class="fa fa-gamepad"></i>&nbsp;&nbsp;&nbsp; Games</h2>
			</div>
			<div class="list-group">
				<div class="list-group-item">
					<div class="row">
						<div class="col-xs-12 col-sm-6">
							<div class="input-group">
								<div class="input-group-addon">
									Filter
								</div>
								<input type="text" ng-model="gamesListController.search" placeholder="Enter Query" tabindex="1" class="form-control" />
							</div>
						</div>
						<div class="col-xs-12 col-sm-6">
							<div class="input-group">
								<div class="input-group-addon">
									Sort By
								</div>
								<select ng-options="opt.name for opt in gamesListController.sorts track by opt.sortField" ng-model="gamesListController.sort"
								class="form-control"></select>
							</div>
						</div>
					</div>
				</div>
				<div ng-repeat="game in gamesListController.filterData = (gamesListController.gameData | filter: gamesListController.search) | orderBy: gamesListController.sort.sortField:gamesListController.sort.reverse | offset: (gamesListController.paging.page - 1) * gamesListController.paging.itemsPerPage | limitTo: gamesListController.paging.itemsPerPage"
				class="list-group-item">
					<div class="row">
						<div class="col-xs-8">
							<a ng-href="/game/{{game.slug}}" target="_blank"><h5 class="list-group-item-heading" ng-bind="game.name"></h5></a>
							<p class="list-group-item-text text-muted">
								{{game.eventsCount}} events &bull; {{game.teamsCount}} teams
							</p>
						</div>
						<div class="col-xs-4 text-right fa-fix">
							<a ng-href="/manage/game/{{game._id}}/edit" class="btn btn-primary btn-sm">
                                Edit
                            </a>
							<a ng-click="gamesListController.delete(game._id)" class="btn btn-danger btn-sm">
                                Delete
                            </a>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>
<!--<div class="panel panel-primary">
    <div class="panel-heading">
        <h2 class="panel-title"><i class="fa fa-gamepad"></i>&nbsp;&nbsp;&nbsp; Games</h2>
    </div>
    <ul class="list-group">
        <li class="list-group-item">
            <div class="input-group">
                <input type="text" ng-model="gamesListController.search" placeholder="Search Games" tabindex="1" class="form-control" />
                <div class="input-group-btn">
                    <a href="/manage/games/new" class="btn btn-primary" ng-click="Featured.addGame()">New Game</a>
                </div>
            </div>
        </li>
    </ul>
    <table class="table table-striped table-list">
        <thead>
            <tr>
                <th ng-click="gamesListController.setSort('name')">
                    Game
                    <span ng-show="gamesListController.sort.sortField == 'name' && !gamesListController.sort.sortReverse" class="fa fa-fw fa-caret-down">
                </span>
                    <span ng-show="gamesListController.sort.sortField == 'name' && gamesListController.sort.sortReverse" class="fa fa-fw fa-caret-up">
                </span>
                    <span ng-show="gamesListController.sort.sortField != 'name'" class="fa fa-fw fa-fix fa-unsorted">
                </span>
                </th>
                <th ng-click="gamesListController.setSort('slug')">
                    URL Slug
                    <span ng-show="gamesListController.sort.sortField == 'slug' && !gamesListController.sort.sortReverse" class="fa fa-fw fa-caret-down">
                </span>
                    <span ng-show="gamesListController.sort.sortField == 'slug' && gamesListController.sort.sortReverse" class="fa fa-fw fa-caret-up">
                </span>
                    <span ng-show="gamesListController.sort.sortField != 'slug'" class="fa fa-unsorted">
                </span>
                </th>
                <th>
                    Table Format
                </th>
                <th>
                </th>
                <th>
                </th>
            </tr>
        </thead>
        <tbody>
            <tr ng-repeat="game in gamesListController.filterData = (gamesListController.gameData | filter: gamesListController.search) | orderBy: gamesListController.sort.sortField:gamesListController.sort.sortReverse | offset: (gamesListController.paging.page - 1) * gamesListController.paging.itemsPerPage | limitTo: gamesListController.paging.itemsPerPage">
                <td ng-bind="game.name"></td>
                <td>
                    <a ng-href="/game/{{game.slug}}">/game/{{game.slug}}</a>
                </td>
                <td>
                    {{game.simple_tables ? "Simple Tables" : "MOBA Style"}}
                </td>
                <td class="text-center">
                    <a ng-href="/manage/game/{{game._id}}/edit" class="btn btn-primary btn-sm">
                    Edit
                </a>
                </td>
                <td class="text-center">
                    <a ng-click="gamesListController.delete(game._id)" class="btn btn-danger btn-sm">
                    Delete
                </a>
                </td>
            </tr>
        </tbody>
    </table>
    <div class="row" ng-show="gamesListController.loaded && (gamesListController.filterData.length == 0 || gamesListController.gameData.length == 0)">
        <div class="col-sm-12 text-center">
            <h4>No games match those criteria.</h4>
        </div>
    </div>
    <div class="row" ng-show="gamesListController.filterData.length > 0">
        <div class="col-sm-12 text-center">
            <ul class="pagination">
                <li ng-class="{disabled: gamesListController.paging.page <= 1}">
                    <span ng-click="gamesListController.previousPage()">&laquo;</span>
                </li>
                <li class="active"><span ng-bind="gamesListController.paging.page"></span></li>
                <li ng-class="{disabled: gamesListController.paging.page === gamesListController.paging.pages()}">
                    <span ng-click="gamesListController.nextPage()">&raquo;</span>
                </li>
            </ul>
        </div>
    </div>
    <div class="pagination">
        <a ng-style="{visibility: gamesListController.paging.page >1 && 'visible' || 'hidden'}" class="btn">
        Prev Page
    </a>
        <p>
            Page {{gamesListController.paging.page}} of {{gamesListController.paging.pages()}}
        </p>
        <a ng-style="{visibility: (gamesListController.paging.pages() >1 && gamesListController.paging.page < gamesListController.paging.pages()) && 'visible' || 'hidden'}" ng-click="gamesListController.nextPage()" class="btn">
        Next Page
    </a>
    </div>
</div>-->
